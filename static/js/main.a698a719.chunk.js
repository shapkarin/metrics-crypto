(this["webpackJsonpreact-mobx-boiler-plate-2"]=this["webpackJsonpreact-mobx-boiler-plate-2"]||[]).push([[0],{22:function(e,t,r){e.exports=r(33)},27:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var s=r(0),i=r.n(s),a=r(12),l=r.n(a),n=(r(27),r(8)),c=r(35),o=r(13);var p=e=>{let{index:t,style:r,data:{filter:s,getItemById:a,selected:l}}=e;const n=a(t);return i.a.createElement("div",{style:r,onClick:()=>s(n),className:"item ".concat(n.name===l?"active":"")},n.full_name," \u2013 ",n.name)};var u=Object(n.b)("assetsStore","filtersStore")(Object(n.c)(e=>{let{assetsStore:t,filtersStore:r}=e;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>r.reset("assets")},"Reset List Filters")," ",i.a.createElement("br",null),i.a.createElement("div",null,"current asset: ",r.metrics.selectedAsset),"Filtered Len: ",t.filtered.length,i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("input",{type:"text",value:r.assets.query,onChange:e=>{let{target:{value:t}}=e;return r.setQuery("assets",t)},"data-test":"assets-input"}),i.a.createElement(o.a,{className:"list assets",style:{marginTop:"23px"},height:500,itemCount:t.filtered.length,itemSize:35,width:500,itemData:{filter:e=>r.filterMetrics(e),getItemById:e=>t.filtered[e],selected:r.metrics.selectedAsset}},p))})),m=r(11),y=r.n(m);const f=Object(n.b)("metricsStore","filtersStore")(Object(n.c)(e=>{let{metricsStore:t,filtersStore:r}=e;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>r.reset("metrics")},"Reset List Filters")," ",i.a.createElement("br",null),i.a.createElement("div",null,"current asset: ",r.assets.selectedMetric),"Filtered Len: ",t.filtered.length,i.a.createElement("br",null),i.a.createElement("hr",null),i.a.createElement("input",{type:"text",value:r.metrics.query,onChange:e=>{let{target:{value:t}}=e;return r.setQuery("metrics",t)}}),i.a.createElement(o.a,{className:"list",style:{marginTop:"23px"},height:500,itemCount:t.filtered.length,itemSize:42,width:600,itemData:{filter:e=>r.filterAssets(e),getItemById:e=>t.filtered[e],selected:r.assets.selectedMetric}},p))}));f.propTypes={metricsStore:y.a.func,filtersStore:y.a.func};var d,h,b,O=f,g=r(6),w=r(3),j=(r(15),r(1));const E={assets:{selectedMetric:"",query:""},metrics:{selectedAsset:"",query:"",ids:[]}};var v=new(d=class{constructor(){Object(g.a)(this,"assets",h,this),Object(g.a)(this,"metrics",b,this)}filterMetrics(e){var t;const{metrics:r,name:s}=e;this.metrics.selectedAsset=s,this.metrics.ids=null!==(t=r.map(e=>{let{metric:t}=e;return t}))&&void 0!==t?t:[]}filterAssets(e){this.assets.selectedMetric=e.name,this.assets.metric=e.name}setQuery(e,t){if(!this.hasOwnProperty(e))throw new Error('FiltersStore does not has "'.concat(e,'" property'));this[e].query=t}reset(e){if(!this.hasOwnProperty(e))throw new Error('FiltersStore does not has "'.concat(e,'" property'));this[e]=E[e]}},h=Object(w.a)(d.prototype,"assets",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.assets}}),b=Object(w.a)(d.prototype,"metrics",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.metrics}}),Object(w.a)(d.prototype,"filterMetrics",[j.f],Object.getOwnPropertyDescriptor(d.prototype,"filterMetrics"),d.prototype),Object(w.a)(d.prototype,"filterAssets",[j.f],Object.getOwnPropertyDescriptor(d.prototype,"filterAssets"),d.prototype),Object(w.a)(d.prototype,"setQuery",[j.f],Object.getOwnPropertyDescriptor(d.prototype,"setQuery"),d.prototype),Object(w.a)(d.prototype,"reset",[j.f],Object.getOwnPropertyDescriptor(d.prototype,"reset"),d.prototype),d);var L=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>{v.reset("assets"),v.reset("metrics")}},"reset all filters")," ",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"col"},i.a.createElement("div",{className:"title"},"Assets"),i.a.createElement(u,null)),i.a.createElement("div",{className:"col"},i.a.createElement("div",{className:"title"},"Metrics"),i.a.createElement(O,null)))),B=r(20);var M,D,S,C=()=>i.a.createElement(c.b,{history:Object(B.a)()},i.a.createElement(c.c,null,i.a.createElement(c.a,{path:"/",component:L})));class P{constructor(e){let{asset:t,full_name:r,metrics:s}=e;this.name=t,this.full_name=r,this.metrics=s}}class Q{constructor(e){let{metric:t,full_name:r}=e;this.name=t,this.full_name=r}}var x,q,z,A,F,k;var N={assetsStore:new(M=j.n.ref,D=class{constructor(){Object(g.a)(this,"list",S,this),this.fetchData()}get filteredByMetric(){const e=this.list.filter(e=>{let{metrics:t}=e;return null===t||void 0===t?void 0:t.find(e=>{let{metric:t}=e;return t===v.assets.selectedMetric})});return e.length?e:this.list}get filteredByQuery(){const e=v.assets.query.toLocaleLowerCase();return[...this.filteredByMetric.filter(t=>{let{name:r}=t;return r.toLocaleLowerCase()===e}),...this.filteredByMetric.filter(t=>{let{full_name:r}=t;return r.toLocaleLowerCase().startsWith(e)})].filter((e,t,r)=>r.indexOf(e)===t)}get filtered(){return this.filteredByQuery}async fetchData(){const{data:e}=await(await fetch("https://community-api.coinmetrics.io/v4/catalog/assets")).json(),t=e.reduce((e,t)=>{var r;return(null===(r=t.metrics)||void 0===r?void 0:r.length)?[...e,new P(t)]:e},[]);this.setList(t)}setList(e){this.list=e}},S=Object(w.a)(D.prototype,"list",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(w.a)(D.prototype,"filteredByMetric",[j.g],Object.getOwnPropertyDescriptor(D.prototype,"filteredByMetric"),D.prototype),Object(w.a)(D.prototype,"filteredByQuery",[j.g],Object.getOwnPropertyDescriptor(D.prototype,"filteredByQuery"),D.prototype),Object(w.a)(D.prototype,"filtered",[j.g],Object.getOwnPropertyDescriptor(D.prototype,"filtered"),D.prototype),Object(w.a)(D.prototype,"setList",[j.f],Object.getOwnPropertyDescriptor(D.prototype,"setList"),D.prototype),D),metricsStore:new(x=j.n.ref,q=class{constructor(){Object(g.a)(this,"list",z,this),Object(g.a)(this,"related",A,this),Object(g.a)(this,"query",F,this),Object(g.a)(this,"selected",k,this),this.fetchData()}get filteredByMetric(){const e=this.list.filter(e=>{let{name:t}=e;return v.metrics.ids.includes(t)});return e.length?e:this.list}get filteredByQuery(){const e=v.metrics.query.toLocaleLowerCase();return[...this.filteredByMetric.filter(t=>{let{name:r}=t;return r.toLocaleLowerCase()===e}),...this.filteredByMetric.filter(t=>{let{full_name:r}=t;return r.toLocaleLowerCase().startsWith(e)})].filter((e,t,r)=>r.indexOf(e)===t)}get filtered(){return this.filteredByQuery}async fetchData(){const{data:e}=await(await fetch("https://community-api.coinmetrics.io/v4/catalog/metrics")).json();this.setList(e.map(e=>new Q(e)))}setList(e){this.list=e}},z=Object(w.a)(q.prototype,"list",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=Object(w.a)(q.prototype,"related",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=Object(w.a)(q.prototype,"query",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=Object(w.a)(q.prototype,"selected",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(w.a)(q.prototype,"filteredByMetric",[j.g],Object.getOwnPropertyDescriptor(q.prototype,"filteredByMetric"),q.prototype),Object(w.a)(q.prototype,"filteredByQuery",[j.g],Object.getOwnPropertyDescriptor(q.prototype,"filteredByQuery"),q.prototype),Object(w.a)(q.prototype,"filtered",[j.g],Object.getOwnPropertyDescriptor(q.prototype,"filtered"),q.prototype),Object(w.a)(q.prototype,"setList",[j.f],Object.getOwnPropertyDescriptor(q.prototype,"setList"),q.prototype),q),filtersStore:v};var I=()=>i.a.createElement(n.a,N,i.a.createElement(C,null));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const _=document.getElementById("root");l.a.render(i.a.createElement(I,null),_),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.a698a719.chunk.js.map